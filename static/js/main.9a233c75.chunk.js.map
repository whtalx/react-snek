{"version":3,"sources":["Snek/Display/__score-value/index.js","Snek/Display/__hi-score-value/index.js","Snek/Display/__level-value/index.js","Snek/Display/__speed-value/index.js","Snek/Display/__pause/index.js","Snek/Display/__sound/index.js","Snek/Display/__pixel/index.js","Snek/Display/__lives-value/index.js","Snek/Display/index.js","Snek/Controls/__start-button/index.js","Snek/Controls/__pause-button/index.js","Snek/Controls/index.js","Snek/DPad/__button-left/index.js","Snek/DPad/__button-up/index.js","Snek/DPad/__button-down/index.js","Snek/DPad/__button-right/index.js","Snek/DPad/index.js","scripts/victory.js","scripts/playSound.js","Snek/index.js","scripts/clrScr.js","scripts/removeEventListeners.js","scripts/addEventListeners.js","scripts/handleMouseDown.js","scripts/handleMouseUp.js","scripts/handleKeyDown.js","scripts/handleKeyUp.js","scripts/switchPixels.js","scripts/slither.js","scripts/explode.js","scripts/spiral.js","scripts/start.js","scripts/pause.js","scripts/resume.js","scripts/turboSpeed.js","scripts/newFood.js","scripts/play.js","scripts/levelUp.js","scripts/reverse.js","scripts/wipe.js","index.js"],"names":["ScoreValue","props","react_default","a","createElement","className","score","slice","HiScoreValue","hiScore","LevelValue","level","SpeedValue","speed","Pause","paused","viewBox","style","fill","fillRule","d","Sound","sound","Pixel","status","LivesValue","lives","i","this","key","PureComponent","Display","children","_lives_value_LivesValue","StartButton","id","button","PauseButton","Controls","ButtonLeft","ButtonUp","ButtonDown","ButtonRight","DPad","victory","_this","state","isCelebrating","text","victoryJSON","frame","fireworkFrame","startX","startY","renderableText","tick","length","forEach","item","switchPixels","x","map","shot","renderableFirework","frame1","sstatus","arguments","undefined","y","frame2","Math","abs","concat","frame3","frame4","frame5","frame6","floor","random","firework","setTimeout","requestAnimationFrame","context","window","AudioContext","webkitAudioContext","gain","createGain","connect","destination","value","Snek","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","food","snake","obstacle","lastScore","direction","nextDirection","speedCoefficient","scoreCoefficient","subtrahend","isAlive","isMuted","isPaused","isPlayiyg","isWaiting","clrScr","grid","setState","pixels","bind","assertThisInitialized","removeEventListeners","document","removeEventListener","handleKeyDown","handleKeyUp","querySelector","handleMouseDown","handleMouseUp","addEventListeners","addEventListener","event","type","preventDefault","snakeHead","move","clearTimeout","gameTimeout","play","turbo","turboTimeout","turboSpeed","target","spiral","start","resume","pause","playSound","reverse","mouseDown","Event","which","dispatchEvent","mouseUp","index","slither","slitherJSON","animationTimeout","explode","pixel","gameRestart","small","medium","large","counter","makeMedium","s","makeLarge","badaboom","largeBoom","smallBoom","x1","y1","x2","y2","toBottom","toLeft","toTop","toRight","keepStats","obstacles","newFood","wipe","draw","foodX","foodY","gameOver","tail","head","nextCoord","shift","push","unshift","levelUp","localStorage","setItem","line","empty","lineItem","obstacleItem","snakeItem","real","Float32Array","Array","from","_","n","PI","sin","imag","wave","createPeriodicWave","oscillator1","createOscillator","setPeriodicWave","oscillator2","noise","now","currentTime","frequency","setValueAtTime","stop","linearRampToValueAtTime","exponentialRampToValueAtTime","bufferSize","sampleRate","buffer","createBuffer","output","getChannelData","createBufferSource","makeNoise","playbackRate","disconnect","getItem","parseInt","Display_Display","DPad_DPad","Controls_Controls","Component","ReactDOM","render","Snek_Snek"],"mappings":"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","file":"static/js/main.9a233c75.chunk.js","sourcesContent":["import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function ScoreValue (props) {\r\n  return (\r\n    <p className = 'display__score-value'>\r\n      {(\"000000\" + props.score).slice(-6)}\r\n    </p>\r\n  )\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function HiScoreValue (props) {\r\n  return (\r\n    <p className = 'display__hi-score-value'>\r\n      {(\"000000\" + props.hiScore).slice(-6)}\r\n    </p>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function LevelValue (props) {\r\n  return (\r\n    <p className = 'display__level-value'>\r\n      {(\"0\" + props.level).slice(-2)}\r\n    </p>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function SpeedValue (props) {\r\n  return (\r\n    <p className = 'display__speed-value'>\r\n      {(\"0\" + props.speed).slice(-2)}\r\n    </p>\r\n  )\r\n}","import React from 'react'\r\n\r\nexport default function Pause (props) {\r\n  return (\r\n    <div className = {'display__pause' + (props.paused? ' display__pause_on' : '')}>\r\n      PAUSE\r\n      <svg className = 'display__pause-svg' viewBox = '0 0 32 32'>\r\n        <path style = {{'fill': 'inherit', 'fillRule': 'evenodd'}} d = 'M11.688,27.25c0,0.5,1.625,1.375,4.125,1.375,2.75,0,4.438-.828,4.438-1.312a13.5,13.5,0,0,0,3.188-2.625C25.5,24.422,30.881,22.313,31,20c0.1-2-1.167-3.746-4-3V16c0-1.719-6.875-3-11-3-4.653,0-11,1.094-11,3C5,21.781,8.109,25.037,11.688,27.25Zm-5.375-11c0,0.58,1.162,2.125,9.438,2.125s9.938-1.3,9.938-2.062-2.8-2-9.687-2C9.385,14.313,6.313,15.443,6.313,16.25Zm22.875,3.563c0,1.538-3.557,3.246-4.625,3.25a17.821,17.821,0,0,0,1.25-3.25C27.728,17.135,29.188,18.57,29.188,19.813ZM7,23a17.489,17.489,0,0,0-1-1.625c-0.986,0-4.75,1.537-4.75,3.438,0,1.666,2.255,2.889,5.188,4.375a21.079,21.079,0,0,0,9.375,2.688c6.352,0,11.281-3.574,11.75-3.812,2.076-1.054,3.125-2.028,3.125-3.062a2.167,2.167,0,0,0-1.375-2.125C29.144,22.947,28.144,23.9,28,24a1.03,1.03,0,0,1,1,1c0,2.116-6.772,5-13,5S3,26.829,3,25C3,23.418,6.323,23,7,23Zm7.438-10.062a4.946,4.946,0,0,0,1.188-2.687C15.625,8.917,13,7.666,13,6c0-1.816,2-4,2-4s-3,2.73-3,4c0,2.455,2.813,3.327,2.813,4.938C14.813,12.7,14.438,12.938,14.438,12.938Zm4-12.812a5.994,5.994,0,0,0-1,3.188c0,2.463,1.688,3.648,1.688,5.125,0,1.552-1.875,3.25-1.875,3.25s0.688-.683.688-3.062c0-1.081-1.812-2.915-1.812-4.5C16.125,2.088,18.438.125,18.438,0.125Z' />\r\n      </svg>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\n\r\nexport default function Sound (props) {\r\n  return (\r\n    <div className = {'display__sound' + (props.sound? ' display__sound_on' : '')}>\r\n      SOUND\r\n      <svg className = 'display__sound-svg' viewBox = '0 0 32 32'>\r\n        <path style = {{'fill': 'inherit', 'fillRule': 'evenodd'}} d = 'M28,1.01L8.239,4.242S8.2,23.086,8.2,23.485c-3.79,0-6.2,1.062-6.2,3.229S3.256,30.967,6.727,31s4.291-2.18,4.291-5.294V8.607C11.068,8.6,25.19,6.3,25.19,6.3s0,12.231,0,14.174c-3.6,0-6.642.431-6.642,4.1,0,2,2.364,4.286,4.727,4.286,3.4,0,4.738-2.148,4.738-6.164Z' />\r\n      </svg>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function Pixel (props) {\r\n  return (\r\n    <div className = {'display__pixel display__pixel_' + props.status}>\r\n      <svg viewBox = '0 0 11 11'>\r\n        <path style = {{'fill': 'inherit', 'fillRule': 'evenodd'}} d = 'M1,1h9v9H1V1ZM2,2H9V9H2V2ZM3,3H8V8H3V3Z' />\r\n      </svg>\r\n    </div>\r\n  );\r\n}","import React, {PureComponent} from 'react'\r\nimport './index.css'\r\nimport Pixel from '../__pixel'\r\n\r\nexport default class LivesValue extends PureComponent {\r\n  render() {\r\n    let lives = [];\r\n    for (let i = 1; i <= 9; i++) {\r\n      let status = 'off';\r\n      /* if (i === 1) {\r\n        status = 'blink';\r\n      } else  */if (this.props.lives >= i) {\r\n        status = 'on';\r\n      }\r\n      lives[i - 1] = <Pixel key = {'life' + i} status = {status} />\r\n    }\r\n    return (\r\n      <div className = 'display__lives-value'>\r\n        {lives}\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport './index.css'\r\nimport ScoreValue from './__score-value'\r\nimport HiScoreValue from './__hi-score-value'\r\nimport LevelValue from './__level-value'\r\nimport SpeedValue from './__speed-value'\r\nimport Pause from './__pause'\r\nimport Sound from './__sound'\r\nimport LivesValue from './__lives-value';\r\n\r\nexport default function Display (props) {\r\n  return (\r\n    <div className = 'display'>\r\n      <fieldset className = 'display__edging'>\r\n        <legend className = 'display__legend'></legend>\r\n        <div className = 'display__borders'>\r\n          <div className = 'display__glass'>\r\n            <div className = 'display__frame'>\r\n              {props.children}\r\n            </div>\r\n            <div className = 'display__side'>\r\n              <div className = 'display__score'>\r\n                SCORE\r\n                <ScoreValue score = {props.score} />\r\n              </div>\r\n              <div className = 'display__hi-score'>\r\n                HI-SCORE\r\n                <HiScoreValue hiScore = {props.hiScore} />\r\n              </div>\r\n              <div className = 'display__level'>\r\n                LEVEL\r\n                <LevelValue level = {props.level} />\r\n              </div>\r\n              <div className = 'display__speed'>\r\n                <SpeedValue speed = {props.speed} />\r\n                SPEED\r\n              </div>\r\n              <div className = 'display__lives'>\r\n                <LivesValue lives = {props.lives} />\r\n              </div>\r\n              <Pause paused = {props.paused} />\r\n              <Sound sound = {props.sound} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </fieldset>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function StartButton(props) {\r\n  return (\r\n    <div id = 'start' className = {'controls__start-button button'+ (props.button === 'start'? ' button_pressed' : '')}></div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function PauseButton (props) {\r\n  return (\r\n    <div id = 'pause' className = {'controls__pause-button button'+ (props.button === 'pause'? ' button_pressed' : '')}></div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\nimport StartButton from './__start-button'\r\nimport PauseButton from './__pause-button'\r\n\r\nexport default function Controls (props) {\r\n  return (\r\n    <div className = 'controls'>\r\n      <div className = 'controls__start'>\r\n        <StartButton button = {props.button} />\r\n        start\r\n      </div>\r\n      <div className = 'controls__pause'>\r\n        <PauseButton button = {props.button} />\r\n        pause\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function ButtonLeft (props) {\r\n  return (\r\n    <div id = 'left' className = {'d-pad__button-left button'+ (props.button === 'left'? ' button_pressed' : '')}></div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function ButtonUp (props) {\r\n  return (\r\n    <div id = 'up' className = {'d-pad__button-up button'+ (props.button === 'up'? ' button_pressed' : '')}></div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function ButtonDown (props) {\r\n  return (\r\n    <div id = 'down' className = {'d-pad__button-down button'+ (props.button === 'down'? ' button_pressed' : '')}></div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\n\r\nexport default function ButtonRight (props) {\r\n  return (\r\n    <div id = 'right' className = {'d-pad__button-right button'+ (props.button === 'right'? ' button_pressed' : '')}></div>\r\n  );\r\n}","import React from 'react'\r\nimport './index.css'\r\nimport ButtonLeft from './__button-left'\r\nimport ButtonUp from './__button-up'\r\nimport ButtonDown from './__button-down'\r\nimport ButtonRight from './__button-right'\r\n\r\nexport default function DPad (props) {\r\n  return (\r\n    <div className='d-pad'>\r\n      <div className = 'd-pad__left'>\r\n        <ButtonLeft button = {props.button} />\r\n      </div>\r\n      <div className = 'd-pad__center'>\r\n        <ButtonUp button = {props.button} />\r\n        <div className = 'd-pad__arrows'></div>\r\n        <ButtonDown button = {props.button} />\r\n      </div>\r\n      <div className = 'd-pad__right'>\r\n        <ButtonRight button = {props.button} />\r\n      </div>\r\n    </div>\r\n  );\r\n}","import victoryJSON from '../data/victory'\r\n\r\nexport default function victory() {\r\n  if (!this.state.isCelebrating) return;\r\n\r\n  let text = victoryJSON['text'];\r\n  let frame = 0;\r\n  let fireworkFrame = 0;\r\n  let startX = 0;\r\n  let startY = 0;\r\n  let renderableText = []\r\n\r\n  let firework = shot => {\r\n    let renderableFirework = [];\r\n\r\n    let frame1 = (sstatus = 'on') => {\r\n      renderableFirework = [{x: startX, y: startY, status: sstatus}];\r\n      this.switchPixels(renderableFirework);\r\n    }\r\n\r\n    let frame2 = (sstatus = 'on') => {\r\n      renderableFirework = [];\r\n      for (let x = -1; x <= 1; x++) {\r\n        for (let y = -1; y <= 1; y++) {\r\n          if (Math.abs(x) !== Math.abs(y)) {\r\n            renderableFirework = renderableFirework.concat({x: (startX + x), y: (startY + y), status: sstatus});\r\n          }\r\n        }\r\n      }\r\n      this.switchPixels(renderableFirework);\r\n    }\r\n\r\n    let frame3 = (sstatus = 'on') => {\r\n      renderableFirework = [];\r\n      for (let x = -2; x <= 2; x++) {\r\n        for (let y = -2; y <= 2; y++) {\r\n          if (Math.abs(x) + Math.abs(y) === 2) {\r\n            renderableFirework = renderableFirework.concat({x: (startX + x), y: (startY + y), status: sstatus});\r\n          }\r\n        }\r\n      }\r\n      this.switchPixels(renderableFirework);\r\n    }\r\n\r\n    let frame4 = (sstatus = 'on') => {\r\n      renderableFirework = [];\r\n      for (let x = -3; x <= 3; x++) {\r\n        for (let y = -3; y <= 3; y++) {\r\n          if (Math.abs(x) + Math.abs(y) === 3) {\r\n            renderableFirework = renderableFirework.concat({x: (startX + x), y: (startY + y), status: sstatus});\r\n          }\r\n        }\r\n      }\r\n      this.switchPixels(renderableFirework);\r\n    }\r\n\r\n    let frame5 = (sstatus = 'on') => {\r\n      renderableFirework = [];\r\n      for (let x = -3; x <= 3; x++) {\r\n        for (let y = -3; y <= 3; y++) {\r\n          if (Math.abs(x) + Math.abs(y) === 4 || (x === 0 && Math.abs(y) === 3) || (y === 0 && Math.abs(x) === 3)) {\r\n            renderableFirework = renderableFirework.concat({x: (startX + x), y: (startY + y), status: sstatus});\r\n          }\r\n        }\r\n      }\r\n      this.switchPixels(renderableFirework);\r\n    }\r\n\r\n    let frame6 = (sstatus = 'on') => {\r\n      renderableFirework = [];\r\n      for (let x = -4; x <= 4; x++) {\r\n        for (let y = -4; y <= 4; y++) {\r\n          if ((Math.abs(x) === 0 && Math.abs(y) === 4) || (Math.abs(x) === 4 && Math.abs(y) === 0) || (Math.abs(x) === 3 && Math.abs(y) === 3)) {\r\n            renderableFirework = renderableFirework.concat({x: (startX + x), y: (startY + y), status: sstatus});\r\n          }\r\n        }\r\n      }\r\n      this.switchPixels(renderableFirework);\r\n    }\r\n\r\n    fireworkFrame++;\r\n\r\n    if (shot % 6 === 0) {\r\n      frame6('off');\r\n      fireworkFrame = 1;\r\n      startX = Math.floor(Math.random() * 6) + 2;\r\n      startY = Math.floor(Math.random() * 8) + 2;\r\n    }\r\n\r\n    switch (fireworkFrame) {\r\n      case 1:\r\n        frame1();\r\n        break;\r\n      case 2:\r\n        frame1('off');\r\n        frame2();\r\n        break;\r\n      case 3:\r\n        frame2('off');\r\n        frame3();\r\n        break;\r\n      case 4:\r\n        frame3('off');\r\n        frame4();\r\n        break;\r\n      case 5:\r\n        frame4('off');\r\n        frame5();\r\n        break;\r\n      case 6:\r\n        frame5('off');\r\n        frame6();\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  }\r\n  \r\n  let tick = () => {\r\n    if (!this.state.isCelebrating) return;\r\n\r\n    if (renderableText.length > 0) {\r\n      renderableText.forEach(item => {\r\n        item.status = 'off';\r\n      });\r\n\r\n      this.switchPixels(renderableText);\r\n    }\r\n\r\n    text.forEach(item => {\r\n      item.x--;\r\n    });\r\n\r\n    renderableText = text.map(item => {\r\n      if (item.x < 10) {\r\n        item.status = 'on';\r\n      }\r\n      return item;\r\n    });\r\n\r\n    this.switchPixels(renderableText);\r\n    firework(frame);\r\n\r\n    frame++;\r\n\r\n    if (frame < 42) {\r\n      setTimeout(tick, 100);\r\n    } else {\r\n      text.forEach(item => {\r\n        item.x += frame;\r\n      });\r\n      frame = 0;\r\n      requestAnimationFrame(tick);\r\n    }\r\n  }\r\n\r\n  tick();\r\n}","const context = new (window.AudioContext || window.webkitAudioContext)();\r\nconst gain = context.createGain();\r\ngain.connect(context.destination);\r\ngain.gain.value = .25;\r\n\r\nexport default function playSound(sound) {\r\n  if (this.state.isMuted) return;\r\n\r\n  const real = new Float32Array(Array.from({length: 64}, (_, n) => (n === 0 ? 0 : 4 / (n * Math.PI) * Math.sin(Math.PI * n * 0.27))));\r\n  const imag = new Float32Array(Array.from({length: 64}, () => 0));\r\n  const wave = context.createPeriodicWave(real, imag);\r\n  const oscillator1 = context.createOscillator();\r\n\r\n  oscillator1.setPeriodicWave(wave);\r\n  oscillator1.connect(gain);\r\n\r\n  let oscillator2 = null;\r\n  let noise = null;\r\n\r\n  const makeNoise = () => {\r\n    let bufferSize = context.sampleRate;\r\n    let buffer = context.createBuffer(1, bufferSize, bufferSize);\r\n    let output = buffer.getChannelData(0);\r\n\r\n    for (let i = 0; i < bufferSize; i++) {\r\n      output[i] = Math.random() * 2 - 1;\r\n    }\r\n\r\n    noise = context.createBufferSource();\r\n    noise.buffer = buffer;\r\n    noise.connect(gain);\r\n\r\n    const real = new Float32Array(Array.from({length: 48}, () => Math.random() * 2 - 1));\r\n    const imag = new Float32Array(Array.from({length: 48}, () => 0));\r\n    const wave = context.createPeriodicWave(real, imag);\r\n\r\n    oscillator2 = context.createOscillator();\r\n    oscillator2.setPeriodicWave(wave);\r\n    oscillator2.connect(gain);\r\n  }\r\n\r\n  let now = context.currentTime;\r\n\r\n  switch (sound) {\r\n    case 'start':\r\n      oscillator1.frequency.setValueAtTime(329.63, now);\r\n      oscillator1.frequency.setValueAtTime(349.23, now + .4);\r\n      oscillator1.frequency.setValueAtTime(392, now + .5);\r\n      oscillator1.frequency.setValueAtTime(440, now + .8);\r\n      oscillator1.frequency.setValueAtTime(493.88, now + 1.1);\r\n      oscillator1.frequency.setValueAtTime(523.25, now + 1.5);\r\n      oscillator1.frequency.setValueAtTime(622.25, now + 1.6);\r\n      oscillator1.frequency.setValueAtTime(523.25, now + 1.9);\r\n      oscillator1.frequency.setValueAtTime(493.88, now + 2.2);\r\n\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + 2.5);\r\n      break;\r\n    case 'pause':\r\n      oscillator1.frequency.setValueAtTime(880, now);\r\n      oscillator1.frequency.setValueAtTime(740, now + .1);\r\n      oscillator1.frequency.setValueAtTime(600, now + .2);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .3);\r\n      break;\r\n    case 'resume':\r\n      oscillator1.frequency.setValueAtTime(600, now);\r\n      oscillator1.frequency.setValueAtTime(740, now + .1);\r\n      oscillator1.frequency.setValueAtTime(880, now + .2);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .3);\r\n      break;\r\n    case 'move':\r\n      oscillator1.frequency.setValueAtTime(300, now);\r\n      oscillator1.frequency.linearRampToValueAtTime(600, now + .125);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .125);\r\n      break;\r\n    case 'turbo':\r\n      oscillator1.frequency.setValueAtTime(360, now);\r\n      oscillator1.frequency.linearRampToValueAtTime(600, now + .075);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .075);\r\n      break;\r\n    case 'eat':\r\n      oscillator1.frequency.setValueAtTime(180, now);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(360, now + .25);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .25);\r\n      break;\r\n    case 'explosion':\r\n      makeNoise();\r\n      oscillator1.frequency.setValueAtTime(120, now);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(60, now + .75);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .75);\r\n\r\n      oscillator2.frequency.setValueAtTime(240, now);\r\n      oscillator2.frequency.exponentialRampToValueAtTime(60, now + .75);\r\n      oscillator2.start(now);\r\n      oscillator2.stop(now + .75);\r\n      \r\n      noise.playbackRate.setValueAtTime(.25, now);\r\n      noise.playbackRate.exponentialRampToValueAtTime(.05, now + .75);\r\n      noise.start(now);\r\n      noise.stop(now + .75);\r\n      break;\r\n    case 'levelRestart':\r\n      oscillator1.frequency.setValueAtTime(600, now);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(200, now + .6);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .6);\r\n      break;\r\n    case 'levelUp':\r\n      oscillator1.frequency.setValueAtTime(100, now);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(1000, now + .6);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + .6);\r\n      break;\r\n    case 'gameOver':\r\n      gain.gain.setValueAtTime(.001, now);\r\n      oscillator1.frequency.setValueAtTime(261.63, now);\r\n      gain.gain.exponentialRampToValueAtTime(.25, now + .4);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(311.13, now + .45);\r\n      gain.gain.linearRampToValueAtTime(.001, now + .45);\r\n      oscillator1.frequency.setValueAtTime(233.08, now + .5);\r\n      gain.gain.exponentialRampToValueAtTime(.25, now + .9);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(277.18, now + .95);\r\n      gain.gain.linearRampToValueAtTime(.001, now + .95);\r\n      oscillator1.frequency.setValueAtTime(207.65, now + 1);\r\n      gain.gain.exponentialRampToValueAtTime(.25, now + 1.4);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(246.94, now + 1.45);\r\n      gain.gain.linearRampToValueAtTime(.001, now + 1.45);\r\n      oscillator1.frequency.setValueAtTime(174.61, now + 1.5);\r\n      gain.gain.exponentialRampToValueAtTime(.25, now + 2.2);\r\n      oscillator1.frequency.exponentialRampToValueAtTime(207.65, now + 2.25);\r\n      oscillator1.start(now);\r\n      oscillator1.stop(now + 2.3);\r\n      break;\r\n    default:\r\n      oscillator1.disconnect(gain);\r\n      break;\r\n  }\r\n}","import React, {Component} from 'react'\r\nimport './index.css'\r\nimport Display from './Display'\r\nimport Controls from './Controls'\r\nimport DPad from './DPad'\r\nimport clrScr from '../scripts/clrScr'\r\nimport removeEventListeners from '../scripts/removeEventListeners'\r\nimport addEventListeners from '../scripts/addEventListeners'\r\nimport handleMouseDown from '../scripts/handleMouseDown'\r\nimport handleMouseUp from '../scripts/handleMouseUp'\r\nimport handleKeyDown from '../scripts/handleKeyDown'\r\nimport handleKeyUp from '../scripts/handleKeyUp'\r\nimport switchPixels from '../scripts/switchPixels'\r\nimport slither from '../scripts/slither'\r\nimport explode from '../scripts/explode'\r\nimport spiral from '../scripts/spiral'\r\nimport start from '../scripts/start'\r\nimport pause from '../scripts/pause'\r\nimport resume from '../scripts/resume'\r\nimport turboSpeed from '../scripts/turboSpeed'\r\nimport newFood from '../scripts/newFood'\r\nimport play from '../scripts/play'\r\nimport levelUp from '../scripts/levelUp'\r\nimport reverse from '../scripts/reverse'\r\nimport wipe from '../scripts/wipe'\r\nimport victory from '../scripts/victory'\r\nimport playSound from '../scripts/playSound'\r\n\r\nexport default class Snek extends Component {\r\n  constructor () {\r\n    super();\r\n\r\n    this.state = {\r\n      food: [],\r\n      snake: [],\r\n      obstacle: [],\r\n      score: 0,\r\n      hiScore: 0,\r\n      lastScore: 0,\r\n      level: 0,\r\n      speed: 0,\r\n      lives: 0,\r\n      button: null,\r\n      direction: 'right',\r\n      nextDirection: null,\r\n      speedCoefficient: 25,\r\n      scoreCoefficient: 25,\r\n      subtrahend: 0,\r\n      isAlive: false,\r\n      isMuted: false,\r\n      isPaused: false,\r\n      isPlayiyg: false,\r\n      isWaiting: false,\r\n      isCelebrating: false\r\n    }\r\n\r\n    this.clrScr = clrScr.bind(this);\r\n    this.removeEventListeners = removeEventListeners.bind(this);\r\n    this.addEventListeners = addEventListeners.bind(this);\r\n    this.handleMouseDown = handleMouseDown.bind(this);\r\n    this.handleMouseUp = handleMouseUp.bind(this);\r\n    this.handleKeyDown = handleKeyDown.bind(this);\r\n    this.handleKeyUp = handleKeyUp.bind(this);\r\n    this.switchPixels = switchPixels.bind(this);\r\n    this.slither = slither.bind(this);\r\n    this.explode = explode.bind(this);\r\n    this.spiral = spiral.bind(this);\r\n    this.start = start.bind(this);\r\n    this.pause = pause.bind(this);\r\n    this.resume = resume.bind(this);\r\n    this.turboSpeed = turboSpeed.bind(this);\r\n    this.newFood = newFood.bind(this);\r\n    this.play = play.bind(this);\r\n    this.levelUp = levelUp.bind(this);\r\n    this.reverse = reverse.bind(this);\r\n    this.wipe = wipe.bind(this);\r\n    this.victory = victory.bind(this);\r\n    this.playSound = playSound.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    this.addEventListeners();\r\n    this.clrScr();\r\n    this.slither();\r\n\r\n    if (!localStorage.getItem('hiscore')) {\r\n      localStorage.setItem('hiscore', this.state.hiScore);\r\n    } else if (parseInt(localStorage.getItem('hiscore')) > this.state.hiScore) {\r\n        this.setState({hiScore: parseInt(localStorage.getItem('hiscore'))});\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.removeEventListeners();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className = 'snek'>\r\n        <Display\r\n          paused = {this.state.isPaused}\r\n          score = {this.state.score}\r\n          hiScore = {this.state.hiScore}\r\n          level = {this.state.level}\r\n          speed = {this.state.speed}\r\n          lives = {this.state.lives}\r\n          sound = {!this.state.isMuted}\r\n        >\r\n          {this.state.pixels}\r\n        </Display>\r\n        <DPad button = {this.state.button} />\r\n        <Controls button = {this.state.button} />\r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport Pixel from '../Snek/Display/__pixel'\r\n\r\n/* fill screen with pixels switched off */\r\nexport default function clrScr() {\r\n  let grid = [];\r\n  for (let i = 0; i < 200; i++) {\r\n    grid[i] = <Pixel key = {i} status = 'off' />\r\n  }\r\n  this.setState({pixels: grid});\r\n}","export default function removeEventListeners() {\r\n  document.removeEventListener('keydown', this.handleKeyDown);\r\n  document.removeEventListener('keyup', this.handleKeyUp);\r\n\r\n  document.querySelector('#start').removeEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#pause').removeEventListener('mousedown', this.handleMouseDown);\r\n\r\n  document.querySelector('#right').removeEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#right').removeEventListener('mouseup', this.handleMouseUp);\r\n  document.querySelector('#right').removeEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#right').removeEventListener('touchend', this.handleMouseUp);\r\n\r\n  document.querySelector('#left').removeEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#left').removeEventListener('mouseup', this.handleMouseUp);\r\n  document.querySelector('#left').removeEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#left').removeEventListener('touchend', this.handleMouseUp);\r\n\r\n  document.querySelector('#up').removeEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#up').removeEventListener('touchend', this.handleMouseUp);\r\n  document.querySelector('#up').removeEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#up').removeEventListener('mouseup', this.handleMouseUp);\r\n\r\n  document.querySelector('#down').removeEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#down').removeEventListener('mouseup', this.handleMouseUp);\r\n  document.querySelector('#down').removeEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#down').removeEventListener('touchend', this.handleMouseUp);\r\n}","export default function addEventListeners() {\r\n  document.addEventListener('keydown', this.handleKeyDown);\r\n  document.addEventListener('keyup', this.handleKeyUp);\r\n\r\n  document.querySelector('#start').addEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#pause').addEventListener('mousedown', this.handleMouseDown);\r\n\r\n  document.querySelector('#right').addEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#right').addEventListener('mouseup', this.handleMouseUp);\r\n  document.querySelector('#right').addEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#right').addEventListener('touchend', this.handleMouseUp);\r\n\r\n  document.querySelector('#left').addEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#left').addEventListener('mouseup', this.handleMouseUp);\r\n  document.querySelector('#left').addEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#left').addEventListener('touchend', this.handleMouseUp);\r\n\r\n  document.querySelector('#up').addEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#up').addEventListener('touchend', this.handleMouseUp);\r\n  document.querySelector('#up').addEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#up').addEventListener('mouseup', this.handleMouseUp);\r\n\r\n  document.querySelector('#down').addEventListener('mousedown', this.handleMouseDown);\r\n  document.querySelector('#down').addEventListener('mouseup', this.handleMouseUp);\r\n  document.querySelector('#down').addEventListener('touchstart', this.handleMouseDown);\r\n  document.querySelector('#down').addEventListener('touchend', this.handleMouseUp);\r\n}","\r\nexport default function handleMouseDown(event) {\r\n  /* prevent mousedown event if caused by touchstart */\r\n  if (event.type === 'touchstart') event.preventDefault();\r\n\r\n  let isAlive = this.state.isAlive;\r\n  let isPaused = this.state.isPaused;\r\n  let direction = this.state.direction;\r\n  let nextDirection = this.state.nextDirection;\r\n  let snakeHead = this.state.snake[this.state.snake.length - 1];\r\n  let isWaiting = this.state.isWaiting;\r\n\r\n  /* uncomment to make able to change level and speed before game */\r\n  /* let level = this.state.level;\r\n  let speed = this.state.speed; */\r\n\r\n  /* make snake move to new direction instantly\r\n   * upd: better don't use on reverse\r\n   */\r\n  let move = () => {\r\n    clearTimeout(this.gameTimeout);\r\n    if (isWaiting) this.setState({isWaiting: false});\r\n    this.play();\r\n  }\r\n\r\n  /* make snake move faster on button hold */\r\n  let turbo = () => {\r\n    if (this.turboTimeout === null) this.turboTimeout = setTimeout(this.turboSpeed, 400);\r\n  }\r\n\r\n  switch (event.target.id) {\r\n    case 'start':\r\n      if (!isAlive && !this.state.isCelebrating) {\r\n        this.start();\r\n      } else if (this.state.isCelebrating) {\r\n        /* stop 'win the game' animation */\r\n        this.setState({isCelebrating: false});\r\n        this.spiral();\r\n      }\r\n      break;\r\n\r\n    case 'pause':\r\n      if (!isAlive) return;\r\n      if (!isPaused) {\r\n        this.pause();\r\n      } else if (isPaused) {\r\n        this.resume();\r\n      }\r\n      break;\r\n\r\n    case 'left':\r\n      if (isAlive && !isPaused && nextDirection === null) {\r\n        if (direction !== 'right' && snakeHead.x !== 0) {\r\n          this.setState({nextDirection: 'left'});\r\n          turbo();\r\n          move();\r\n          this.playSound('move');\r\n        } else if (!isWaiting && direction === 'right') {\r\n          this.reverse();\r\n          this.playSound('move');\r\n          //move();\r\n        }\r\n      } /* else if (!isAlive && speed > 0) {\r\n        this.setState(state => {\r\n          state.speed--;\r\n          return state;\r\n        });\r\n      } */\r\n      break;\r\n\r\n    case 'right':\r\n      if (isAlive && !isPaused && nextDirection === null) {\r\n        if (direction !== 'left' && snakeHead.x !== 9) {\r\n          this.setState({nextDirection: 'right'});\r\n          turbo();\r\n          move();\r\n          this.playSound('move');\r\n        } else if (!isWaiting && direction === 'left') {\r\n          this.reverse();\r\n          this.playSound('move');\r\n          //move();\r\n        }\r\n      } /* else if (!isAlive && speed < 6) {\r\n        this.setState(state => {\r\n          state.speed++;\r\n          return state;\r\n        });\r\n      } */\r\n      break;\r\n\r\n    case 'up':\r\n      if (isAlive && !isPaused && nextDirection === null) {\r\n        if (direction !== 'down' && snakeHead.y !== 0) {\r\n          this.setState({nextDirection: 'up'});\r\n          turbo();\r\n          move();\r\n          this.playSound('move');\r\n        } else if (!isWaiting && direction === 'down') {\r\n          this.reverse();\r\n          this.playSound('move');\r\n          //move();\r\n        }\r\n      } /* else if (!isAlive && level < 6) {\r\n        this.setState(state => {\r\n          state.level++;\r\n          return state;\r\n        });\r\n      } */\r\n      break;\r\n\r\n    case 'down':\r\n    if (isAlive && !isPaused && nextDirection === null) {\r\n      if (direction !== 'up' && snakeHead.y !== 19) {\r\n        this.setState({nextDirection: 'down'});\r\n        turbo();\r\n        move();\r\n        this.playSound('move');\r\n      } else if (!isWaiting && direction === 'up') {\r\n        this.reverse();\r\n        this.playSound('move');\r\n        //move();\r\n      }\r\n    } /* else if (!isAlive && level > 0) {\r\n      this.setState(state => {\r\n        state.level--;\r\n        return state;\r\n      });\r\n    } */\r\n    break;\r\n\r\n    default:\r\n      return;\r\n  }\r\n}","export default function handleMouseUp(event) {\r\n  /* prevent mouseup event if caused by touchend */\r\n  if (event.type === 'touchend') event.preventDefault();\r\n  \r\n  /* turn off turbo and reset playing speed */\r\n  clearTimeout(this.turboTimeout);\r\n  this.turboTimeout = null;\r\n\r\n  this.setState(state => {\r\n    state.subtrahend = (state.speed + 1) * state.speedCoefficient;\r\n    return state;\r\n  });\r\n}","export default function handleKeyDown(event) {\r\n  let mouseDown = new Event('mousedown');\r\n  \r\n  switch (event.which) {\r\n    case 39:// right\r\n    case 68:// d\r\n      if (this.state.button !== 'right') {\r\n        this.setState({button: 'right'});\r\n        document.querySelector('#right').dispatchEvent(mouseDown);\r\n      }\r\n      break;\r\n    case 37:// left\r\n    case 65:// a\r\n      if (this.state.button !== 'left') {\r\n        this.setState({button: 'left'});\r\n        document.querySelector('#left').dispatchEvent(mouseDown);\r\n      }\r\n      break;\r\n    case 38:// up\r\n    case 87:// w\r\n      if (this.state.button !== 'up') {\r\n        this.setState({button: 'up'});\r\n        document.querySelector('#up').dispatchEvent(mouseDown);\r\n      }\r\n      break;\r\n    case 40:// down\r\n    case 83:// s\r\n      if (this.state.button !== 'down') {\r\n        this.setState({button: 'down'});\r\n        document.querySelector('#down').dispatchEvent(mouseDown);\r\n      }\r\n      break;\r\n    case 13://enter\r\n      if (this.state.button !== 'start') {\r\n        this.setState({button: 'start'});\r\n        document.querySelector('#start').dispatchEvent(mouseDown);\r\n      }\r\n      break;\r\n    case 32://spacebar\r\n      if (this.state.button !== 'pause') {\r\n        this.setState({button: 'pause'});\r\n        document.querySelector('#pause').dispatchEvent(mouseDown);\r\n      }\r\n      break;\r\n    default:\r\n      return;\r\n  }\r\n}","export default function handleKeyUp(event) {\r\n  this.setState({button: null});\r\n  let mouseUp = new Event('mouseup');\r\n\r\n  switch (event.which) {\r\n    case 39:// right\r\n    case 68:// d\r\n      document.querySelector('#right').dispatchEvent(mouseUp);\r\n      break;\r\n    case 37:// left\r\n    case 65:// a\r\n      document.querySelector('#left').dispatchEvent(mouseUp);\r\n      break;\r\n    case 38:// up\r\n    case 87:// w\r\n      document.querySelector('#up').dispatchEvent(mouseUp);\r\n      break;\r\n    case 40:// down\r\n    case 83:// s\r\n      document.querySelector('#down').dispatchEvent(mouseUp);\r\n      break;\r\n    case 13://enter\r\n      document.querySelector('#start').dispatchEvent(mouseUp);\r\n      break;\r\n    case 32://spacebar\r\n      document.querySelector('#pause').dispatchEvent(mouseUp);\r\n      break;\r\n    default:\r\n      return null;\r\n  }\r\n}","import React from 'react'\r\nimport Pixel from '../Snek/Display/__pixel'\r\n\r\nexport default function switchPixels(pixels) {\r\n  /* switch passed pixels with valid values */\r\n  this.setState(state => {\r\n    pixels.forEach(item => {\r\n      if (\r\n      item.x >= 0 &&\r\n      item.x < 10 &&\r\n      item.y >= 0 &&\r\n      item.y < 20 &&\r\n      (item.status === 'on'||\r\n      item.status === 'off' ||\r\n      item.status === 'blink')) {\r\n        let index = item.x + item.y * 10\r\n        state.pixels[index] = <Pixel key = {index} status = {item.status} />\r\n      }\r\n    });\r\n    return state;\r\n  });\r\n}","import slitherJSON from '../data/slither'\r\n\r\nexport default function slither() {\r\n  if (this.state.isPlayiyg) return;\r\n\r\n  let frame1 = slitherJSON[\"1\"];\r\n  let frame2 = slitherJSON[\"2\"];\r\n\r\n  this.switchPixels(frame1);\r\n\r\n  this.animationTimeout = setTimeout(() => {\r\n    if (this.state.isPlayiyg) return;\r\n    this.switchPixels(frame2);\r\n  }, 400);\r\n\r\n  this.animationTimeout = setTimeout(this.slither, 800);\r\n}","export default function explode(pixel, gameRestart = true) {\r\n  let small = pixel;\r\n  let medium = [];\r\n  let large = [];\r\n  let counter = 0;\r\n\r\n  let makeMedium = s => {\r\n    for (let x = -1; x <= 1; x++) {\r\n      for (let y = -1; y <= 1; y++) {\r\n        if (x !== 0 || y !== 0 ) {\r\n          medium = medium.concat([{'x': (x + pixel[0].x), 'y': (y + pixel[0].y), 'status': s}])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let makeLarge = s => {\r\n    for (let x = -2; x < 3; x++) {\r\n      if (Math.abs(x % 2) === 0) {\r\n        for (let y = -2; y < 3; y++) {\r\n          if (Math.abs(y % 2) === 0) {\r\n            large = large.concat([{'x': (x + pixel[0].x), 'y': (y + pixel[0].y), 'status': s}]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let badaboom = () => {\r\n    counter++;\r\n\r\n    let mediumBoom = () => {\r\n      makeMedium('blink');\r\n      this.switchPixels(medium);\r\n\r\n      this.animationTimeout = setTimeout(largeBoom, 60);\r\n    }\r\n\r\n    let largeBoom = () => {\r\n      makeLarge('blink');\r\n      this.switchPixels(large);\r\n\r\n      this.animationTimeout = setTimeout(smallBoom, 60);\r\n    }\r\n\r\n    let smallBoom = () => {\r\n      makeMedium('off');\r\n      makeLarge('off');\r\n      this.switchPixels(large.concat(medium));\r\n      this.switchPixels(this.state.obstacle);\r\n      this.switchPixels(this.state.snake);\r\n      if (counter < 3 ) {\r\n        this.animationTimeout = setTimeout(badaboom, 80);\r\n      } else {\r\n        if (gameRestart) {\r\n          this.setState({isPlayiyg: false});\r\n          this.spiral();\r\n          this.playSound('gameOver');\r\n        } else {\r\n          this.setState(state => {\r\n            state.speed = 0;\r\n            state.score = state.lastScore;\r\n          });\r\n          this.playSound('levelRestart');\r\n          this.start(true);\r\n        }\r\n      }\r\n    }\r\n\r\n    mediumBoom();\r\n  }\r\n  this.playSound('explosion');\r\n  this.switchPixels(small);\r\n  badaboom();\r\n}","export default function spiral(x1 = 0, y1 = 0, x2 = 9, y2 = 19) {\r\n  if (this.state.isPlayiyg) return;\r\n  let x = x1;\r\n  let y = y1;\r\n\r\n  let toRight = () => {\r\n    if (this.state.isPlayiyg) return;\r\n    this.switchPixels([{'x': x, 'y': y, status: 'on'}]);\r\n    x++;\r\n    if (x < x2) {\r\n      requestAnimationFrame(toRight);\r\n    } else {\r\n      requestAnimationFrame(toBottom);\r\n    }\r\n  }\r\n\r\n  let toBottom = () => {\r\n    if (this.state.isPlayiyg) return;\r\n    this.switchPixels([{'x': x, 'y': y, status: 'on'}]);\r\n    y++;\r\n    if (y < y2) {\r\n      requestAnimationFrame(toBottom);\r\n    } else {\r\n      requestAnimationFrame(toLeft);\r\n    }\r\n  }\r\n\r\n  let toLeft = () => {\r\n    if (this.state.isPlayiyg) return;\r\n    this.switchPixels([{'x': x, 'y': y, status: 'on'}]);\r\n    x--;\r\n    if (x > x1) {\r\n      requestAnimationFrame(toLeft);\r\n    } else {\r\n      requestAnimationFrame(toTop);\r\n    }\r\n  }\r\n\r\n  let toTop = () => {\r\n    if (this.state.isPlayiyg) return;\r\n    this.switchPixels([{'x': x, 'y': y, status: 'on'}]);\r\n    y--;\r\n    if (y > y1) {\r\n      requestAnimationFrame(toTop);\r\n    } else if (x1 < 4) {\r\n      x1++;\r\n      y1++;\r\n      x2--;\r\n      y2--;\r\n      this.spiral(x1, y1, x2, y2);\r\n    } else {\r\n      this.slither();\r\n    }\r\n  }\r\n  \r\n  requestAnimationFrame(toRight);\r\n}","import obstacles from '../data/obstacles'\r\n\r\nexport default function start(keepStats = false) {\r\n  clearTimeout(this.gameTimeout);\r\n  clearTimeout(this.turboTimeout);\r\n  clearTimeout(this.animationTimeout);\r\n  this.animationTimeout = this.turboTimeout = this.gameTimeout = null;\r\n\r\n  /* reset game status if started not by level up */\r\n  if (!keepStats) {\r\n    this.setState({\r\n      score: 0,\r\n      level: 0,\r\n      speed: 0,\r\n      lives: 3\r\n    });\r\n    this.playSound('start');\r\n  }\r\n  \r\n  /* reset game status to level start */\r\n  this.setState({\r\n    direction: 'right',\r\n    subtrahend: this.state.speedCoefficient,\r\n    snake: [{x: 1, y: 5, status : 'on'}, {x: 2, y: 5, status: 'on'}, {x: 3, y: 5, status: 'blink'}],\r\n    isPlayiyg: true\r\n  });\r\n\r\n  /* get obstacles for current level */\r\n  let obstacle = obstacles[this.state.level];\r\n  obstacle.forEach(item => {\r\n    item.status = 'on';\r\n  });\r\n  this.setState({obstacle: obstacle});\r\n\r\n  /* make new food and start level change animation */\r\n  this.newFood(false);\r\n  this.wipe();\r\n}","export default function pause() {\r\n  clearTimeout(this.gameTimeout);\r\n  this.setState({isPaused: true});\r\n  this.playSound('pause');\r\n}","export default function resume() {\r\n  if (this.state.isPaused) {\r\n    this.setState({isPaused: false});\r\n    this.playSound('resume');\r\n  }\r\n  if (!this.state.isWaiting) {\r\n    this.gameTimeout = setTimeout(this.play, 400 - this.state.subtrahend);\r\n  }\r\n}","export default function turboSpeed() {\r\n  this.setState({subtrahend: 325});\r\n}","export default function newFood(draw = true) {\r\n  let foodX = 0;\r\n  let foodY = 0;\r\n  let snake = this.state.snake;\r\n  let obstacle = this.state.obstacle;\r\n\r\n  let random = () => {\r\n    foodX = Math.floor(Math.random() * 10);\r\n    foodY = Math.floor(Math.random() * 20);\r\n    \r\n    /* if food appeared iside snake or inside obstacle -- make new food */\r\n    snake.forEach(item => {\r\n      if (item.x === foodX && item.y === foodY) random();\r\n    });\r\n    obstacle.forEach(item => {\r\n      if (item.x === foodX && item.y === foodY) random();\r\n    });\r\n  }\r\n\r\n  random();\r\n  this.setState({food: [{x: foodX, y: foodY, status : 'blink'}]});\r\n\r\n  /* sometimes food doesn't appearing while playing level,\r\n   * so i render it twice: immediately here and in play() with tiomeout\r\n   */\r\n  if (draw) this.switchPixels(this.state.food);\r\n}","export default function play() {\r\n  let food = this.state.food;\r\n  let snake = this.state.snake;\r\n  let obstacle = this.state.obstacle;\r\n  let nextDirection = this.state.nextDirection;\r\n\r\n  let gameOver = pixel => {\r\n    this.setState({isAlive: false});\r\n    clearTimeout(this.gameTimeout);\r\n\r\n    this.setState(state => {\r\n      state.lives--\r\n    });\r\n\r\n    if (this.state.lives > 0) {\r\n\r\n      /* level restart */\r\n      this.explode(pixel, false);\r\n     } else {\r\n\r\n      /* game restart */\r\n       this.explode(pixel);\r\n     }\r\n  }\r\n\r\n  /* declaring snake parts */\r\n  let tail = snake[0];\r\n  let head = snake[snake.length - 1];\r\n  let nextCoord = {x: head.x, y: head.y, status: head.status};\r\n\r\n  /* get moving direction and let it possible to set new direction */\r\n  if (nextDirection !== null) {\r\n    this.setState({\r\n      direction: nextDirection,\r\n      nextDirection: null\r\n    })\r\n  }\r\n\r\n  let direction = this.state.direction;\r\n\r\n  if (direction === 'right') {\r\n    nextCoord.x++\r\n  } else if (direction === 'left') {\r\n    nextCoord.x--\r\n  } else if (direction === 'up') {\r\n    nextCoord.y--\r\n  }else if (direction === 'down') {\r\n    nextCoord.y++\r\n  }\r\n\r\n  /* remove tail */\r\n  snake.shift();\r\n  tail.status = 'off';\r\n  this.switchPixels([tail]);\r\n\r\n  /* bite itself game over */\r\n  snake.forEach(item => {\r\n    if ( item.x === nextCoord.x && item.y === nextCoord.y) {\r\n      gameOver([item]);\r\n      }\r\n  });\r\n\r\n  /* bump an obstacle game over */\r\n  obstacle.forEach(item => {\r\n    if ( item.x === nextCoord.x && item.y === nextCoord.y) {\r\n      gameOver([item]);\r\n      }\r\n  });\r\n\r\n  /* get off screen game over */\r\n  if (nextCoord.x > 9 ||\r\n      nextCoord.x < 0 ||\r\n      nextCoord.y > 19 ||\r\n      nextCoord.y < 0) {\r\n    gameOver([head]);\r\n  }\r\n\r\n  /* make new head */\r\n  head.status = 'on';\r\n  nextCoord.status = 'blink';\r\n  snake.push(nextCoord);\r\n\r\n  /* draw snake with new coordinates */\r\n  this.setState({snake: snake});\r\n  this.switchPixels(snake);\r\n\r\n  /* play turbo sound if in turbo mode */\r\n  if (this.state.subtrahend === 325) this.playSound('turbo');\r\n\r\n  /*grow if eating food, make new food */\r\n  if (nextCoord.x === food[0].x && nextCoord.y === food[0].y) {\r\n    snake.unshift(tail);\r\n    this.levelUp();\r\n  } else {\r\n    \r\n  /* repeat until death */\r\n  if (this.state.isAlive) this.resume();\r\n  }\r\n}","export default function levelUp() {\r\n  let level = this.state.level;\r\n  let speed = this.state.speed;\r\n  let score = this.state.score;\r\n  let hiScore = this.state.hiScore;\r\n  let scoreCoefficient = this.state.scoreCoefficient;\r\n\r\n  /* increase speed every third food eaten */\r\n  if (this.state.snake.length % 3 === 0) {\r\n    this.setState(state => {\r\n      state.speed++;\r\n      state.subtrahend = (state.speed + 1) * state.speedCoefficient;\r\n      return state;\r\n    });\r\n  }\r\n\r\n  /* calculate new scores */\r\n  score += scoreCoefficient * (level + 1) * (speed + 1);\r\n  this.setState({score: score});\r\n\r\n  if (score > hiScore) {\r\n    this.setState({hiScore: score});\r\n    localStorage.setItem('hiscore', hiScore);\r\n  }\r\n\r\n  /* increase level after sixth speed */\r\n  if (this.state.speed > 6) {\r\n    if (this.state.level < 6) {\r\n      this.setState(state => {\r\n        state.level++;\r\n        state.lives++;\r\n        state.speed = 0;\r\n        state.lastScore = state.score;\r\n        state.isAlive = false;\r\n        return state;\r\n      });\r\n\r\n      /* start new level with scores saving */\r\n      this.playSound('levelUp');\r\n      this.start(true);\r\n    } else {\r\n      \r\n      /* 'win the game' game over */\r\n      this.setState({\r\n        speed: 6,\r\n        isAlive: false,\r\n        isCelebrating: true\r\n      });\r\n      this.clrScr();\r\n      this.victory();\r\n    }\r\n  } else {\r\n    this.playSound('eat');\r\n    this.newFood();\r\n    \r\n  /* repeat until death */\r\n  if (this.state.isAlive) this.resume();\r\n  }\r\n}","export default function reverse() {\r\n  let snake = this.state.snake;\r\n\r\n  let reverse = () => {\r\n    this.setState(state => {\r\n      state.snake.reverse();\r\n      return state;\r\n    });\r\n  }\r\n\r\n  let turbo = () => {\r\n    if (this.turboTimeout === null) {\r\n      this.turboTimeout = setTimeout(this.turboSpeed, 400);\r\n    }\r\n  }\r\n\r\n  /* new direction is direction which snake's tail point to\r\n   * calculated by coordinates of last and penultimate item\r\n   */\r\n  if (snake[0].x !== snake[1].x) {\r\n    if (snake[0].x < snake[1].x && snake[0].x !== 0) {\r\n      this.setState({nextDirection: 'left'});\r\n      reverse();\r\n      turbo();\r\n    } else if (snake[0].x > snake[1].x && snake[0].x !== 9) {\r\n      this.setState({nextDirection: 'right'});\r\n      reverse();\r\n      turbo();\r\n    }\r\n  } else if (snake[0].y !== snake[1].y && snake[0].y !== 0) {\r\n    if (snake[0].y < snake[1].y) {\r\n      this.setState({nextDirection: 'up'});\r\n      reverse();\r\n      turbo();\r\n    } else if (snake[0].y > snake[1].y && snake[0].y !== 19) {\r\n      this.setState({nextDirection: 'down'});\r\n      reverse();\r\n      turbo();\r\n    }\r\n  }\r\n}","export default function wipe() {\r\n  let obstacle = this.state.obstacle;\r\n  let snake = this.state.snake;\r\n  let food = this.state.food;\r\n  let line = [];\r\n\r\n  for (let i = 0; i < 20; i++) {\r\n    line[i] = {x: 0, y: i, status: 'on'}\r\n  }\r\n\r\n  /* fill screen with switched on pixels */\r\n  let fill = () => {\r\n    this.switchPixels(line);\r\n    if (line[0].x < 9) {\r\n      line.forEach(item => {\r\n        item.x++;\r\n      });\r\n      requestAnimationFrame(fill);\r\n    } else {\r\n      requestAnimationFrame(empty);\r\n    }\r\n  }\r\n\r\n  /* fill screen with pixels switched according to snake, food and obstacle pixels */\r\n  let empty = () => {\r\n    line.forEach(lineItem => {\r\n      lineItem.status = undefined;\r\n\r\n      obstacle.forEach(obstacleItem => {\r\n        if (obstacleItem.x === lineItem.x && obstacleItem.y === lineItem.y) {\r\n          lineItem.status = obstacleItem.status;\r\n        }\r\n      });\r\n\r\n      snake.forEach(snakeItem => {\r\n        if (snakeItem.x === lineItem.x && snakeItem.y === lineItem.y) {\r\n          lineItem.status = snakeItem.status;\r\n        }\r\n      });\r\n\r\n      if (food[0].x === lineItem.x && food[0].y === lineItem.y) {\r\n        lineItem.status = food[0].status;\r\n      }\r\n\r\n      if (lineItem.status === undefined) lineItem.status = 'off';\r\n    });\r\n\r\n    this.switchPixels(line);\r\n\r\n    if (line[0].x > 0) {\r\n      line.forEach(item => {\r\n        item.x--;\r\n      });\r\n      requestAnimationFrame(empty);\r\n    } else {\r\n      this.setState({\r\n        isAlive: true,\r\n        isWaiting: true\r\n      });\r\n    }\r\n  }\r\n\r\n  fill();\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport Snek from './Snek'\r\n\r\nReactDOM.render(<Snek />, document.querySelector('.root'));"],"sourceRoot":""}